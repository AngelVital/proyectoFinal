<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Aprende Jugando - Flora del Estado</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBQiIJDqapVcCwEFRtyUEGUTvhLGQqkFOA",
    authDomain: "proyecto-final-ids.firebaseapp.com",
    projectId: "proyecto-final-ids",
    storageBucket: "proyecto-final-ids.appspot.com",
    messagingSenderId: "1029750774515",
    appId: "1:1029750774515:web:74101434335f870c61f586",
    measurementId: "G-BCJE6EYP0W",
    databaseURL: "https://proyecto-final-ids-default-rtdb.firebaseio.com"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
</script>

<div class="ayuda-flotante">
  <button id="ayudaFija" onclick="mostrarPopupAyuda()">쯅ecesitas ayuda?</button>
  <div class="popup-ayuda" id="popupAyuda">
    <button class="cerrar-ayuda" onclick="cerrarPopupAyuda()">&times;</button>
    <h2>游 쯅ecesitas ayuda?</h2>
      <p>Esta aplicaci칩n te ense침a sobre las plantas de Baja California Sur.</p>
      <ul>
        <li>游닄 <strong>Aprender</strong>: Mira fotos y aprende datos curiosos de cada planta.</li>
        <li>游 <strong>Memorama</strong>: Encuentra las parejas de plantas iguales.</li>
        <li>游댕 <strong>Une la foto</strong>: Arrastra la imagen hasta el nombre correcto.</li>
        <li>游끥 <strong>Ganas puntos</strong> por jugar y aprender.</li>
        <li>游닉 Usa los botones para ver m치s informaci칩n sobre las plantas.</li>
        <li>游댉 Puedes activar o desactivar los sonidos.</li>
      </ul>
  </div>
</div>

<body>
  <div class="outer-frame">
    <div class="container">
      <h1>游 Aprende Jugando - Flora de Tu Estado</h1>

      <!-- Registro e Inicio de Sesi칩n -->
      <div id="auth-section">
        <h2>游꺞 Bienvenido</h2>
        <div id="register-form">
          <h3>Registro</h3>
          <input type="text" id="reg-nombre" placeholder="Nombre" required />
          <input type="password" id="reg-password" placeholder="Contrase침a" required />
          <input type="number" id="reg-edad" placeholder="Edad" required min="6" max="12" />
          <select id="reg-grado">
            <option value="">Grado escolar</option>
            <option value="1">1춿 primaria</option>
            <option value="2">2춿 primaria</option>
            <option value="3">3춿 primaria</option>
            <option value="4">4춿 primaria</option>
            <option value="5">5춿 primaria</option>
            <option value="6">6춿 primaria</option>
          </select>
          <button onclick="registrar()">Registrarse</button>
        </div>

        <hr />

        <div id="login-form">
          <h3>Iniciar sesi칩n</h3>
          <input type="text" id="login-nombre" placeholder="Nombre" required />
          <input type="password" id="login-password" placeholder="Contrase침a" required />
          <button onclick="iniciarSesion()">Iniciar sesi칩n</button>
        </div>
      </div>

      <!-- Men칰 principal -->
      <div id="menu" class="hidden">
        <p>游녦 Bienvenido, <span id="nombreUsuario"></span></p>
        <p>Primero aprenderemos sobre las plantas de Baja California Sur y despu칠s fortaleceremos nuestro conocimiento con juegos.</p>

        <button onclick="mostrarAprender()">游닄 Aprender</button>

        <h3>Juegos</h3>
        <button onclick="iniciarJuego('memorama')">游 Memorama (Flora)</button>
        <button onclick="iniciarJuego('uneFotos')">游댕 Une la foto con su nombre</button>

        <p>游끥 Puntos: <span id="puntos">0</span></p>
        <p style="display: flex; gap: 10px; align-items: center;">
        <button id="btnSonido" onclick="toggleSonido()">游댉 Sonidos: Activados</button>
        <span class="usuarios-popup-contenedor">
          <button id="usuariosBtn" type="button">Ver puntuaciones</button>
          <div class="popup-usuarios" id="popupUsuarios">
            <button class="cerrar-usuarios" type="button" aria-label="Cerrar">&times;</button>
            <strong>Usuarios y puntuaciones</strong>
            <table>
              <thead>
                <tr>
                  <th>Usuario</th>
                  <th>Puntos</th>
                </tr>
              </thead>
              <tbody id="tablaUsuarios">
                <!-- Se llenar치 din치micamente -->
              </tbody>
            </table>
          </div>
        </span>
      </p>
        <p><button onclick="cerrarSesion()">游뛁 Cerrar sesi칩n</button></p>
      </div>

      <!-- Contador de intentos -->
      <p id="intentosRestantes" class="hidden">Intentos restantes: <span id="contadorIntentos"></span></p>

      <!-- Secciones din치micas -->
      <div id="contenidoJuego" class="hidden"></div>
      <div id="instruccionesJuego" class="hidden"></div>
    </div>
  </div>

  <!-- Pantalla de felicitaci칩n -->
  <div id="felicitacion" class="hidden">
    <div class="felicitacion-contenido">
      <h2>游꿀 춰Felicidades!</h2>
      <p>Has completado todos los niveles</p>
      <button onclick="cerrarFelicitacion()">游 Volver al men칰</button>
      <canvas id="confetiCanvas"></canvas>
    </div>
  </div>
 
  <!-- Secci칩n "Aprender" -->
  <div id="contenidoAprender" class="hidden">
    <h2>游꺚 Conoce la flora de Baja California Sur</h2>
    <p>Explora algunas de las especies m치s representativas de nuestra regi칩n.</p>

    <!-- Botones de campos adicionales: inicialmente ocultos -->
    <div id="botonesAprender" class="botones-aprender hidden">
      <button onclick="toggleCampo('usos')">Usos</button>
      <button onclick="toggleCampo('faunaAsociada')">Fauna asociada</button>
      <button onclick="toggleCampo('ecosistema')">Ecosistema</button>
      <button onclick="toggleCampo('conservacion')">Conservaci칩n</button>
      <button onclick="toggleCampo('curiosidad')">Dato curioso</button>

      <!-- A침adido -->
      <div id="botonesToxicidad" class="botones-aprender">
        <button onclick="filtrarToxicas(true)">游 T칩xicas</button>
        <button onclick="filtrarToxicas(false)">游꺔 No t칩xicas</button>
        <button onclick="filtrarToxicas('todas')">Mostrar todas</button>
      </div>
    </div>

    <!-- Bot칩n de filtro por municipio: inicialmente oculto -->
    <div id="filtroMunicipios" class="filtro-municipios hidden">
      <button onclick="toggleMunicipios()">游늸 Municipios</button>
      <div id="botonesMunicipios" class="botones-municipios hidden">
        <button onclick="filtrarPorMunicipio('La Paz')">La Paz</button>
        <button onclick="filtrarPorMunicipio('Comond칰')">Comond칰</button>
        <button onclick="filtrarPorMunicipio('Muleg칠')">Muleg칠</button>
        <button onclick="filtrarPorMunicipio('Loreto')">Loreto</button>
        <button onclick="filtrarPorMunicipio('Los Cabos')">Los Cabos</button>
        <button onclick="filtrarPorMunicipio('todos')">Mostrar todos</button>
      </div>
    </div>

    <!-- Galer칤a de flores -->
    <div class="galeria-flores" id="galeriaFlores"></div>

    <!-- Bot칩n para regresar al men칰 -->
    <button onclick="volverAlMenu()">拘勇 Volver al men칰</button>
  </div>

  <script src="script.js"></script>
  
</body>
</html>